{
  "name": "Field Propulsion Analog (Desktop)",
  "version": "0.9",
  "purpose": "Demonstrate directed energy flow from phase-sequenced, harmonically coupled nodes using a safe table-top analogue (acoustic or low-power EM).",
  "principle": {
    "summary": "A ring/helix of driven nodes (transducers/coils) are excited with a controlled phase step Δφ and optional logarithmic frequency spacing to form a traveling wave. Constructive coupling produces a net momentum flow in the medium (air for acoustics, near-field Poynting flow for EM).",
    "core_params": [
      "N (number_of_nodes)",
      "Δφ (phase step per node, radians)",
      "f0 (base frequency)",
      "sequence (temporal firing order)",
      "log_spacing_alpha (for logarithmic harmonic spacing)",
      "damping, coupling (via spacing and mounting)"
    ],
    "expected_signature": "Net forward power flow peaks at specific Δφ, visible as asymmetric pressure/field distribution and a measurable thrust proxy on a torsion balance or flow sensor."
  },
  "modes": [
    {
      "id": "acoustic",
      "description": "Ultrasonic or audio-range ring/helix using piezo discs or ultrasonic transducers; measure pressure and net force on a light pendulum mount.",
      "pros": "Cheap, safe, visually/intuitively clear interference patterns.",
      "cons": "Momentum is in air; result is an analogue of coupling, not plasma."
    },
    {
      "id": "em_lowfield",
      "description": "Array of small RF drive coils (e.g., 100–500 kHz) with phase control; measure near-field energy flow with loop probes and magnetometers.",
      "pros": "Closer to EM-field momentum picture; no ionization.",
      "cons": "Careful shielding/calibration needed; signal small."
    }
  ],
  "geometries": [
    {
      "name": "ring_2D",
      "N_default": 12,
      "spacing_mm": 25,
      "phase_winding": "Δφ per node; traveling wave around ring"
    },
    {
      "name": "helix_3D",
      "N_default": 12,
      "turns": 1.5,
      "pitch_mm": 30,
      "radius_mm": 40,
      "note": "Closer to the 'field engine' feel; supports axial bias."
    }
  ],
  "bill_of_materials": {
    "shared": [
      "Controller: Teensy 4.1 or ESP32 (>= 8 PWM channels; phase-controllable timers)",
      "Power: 12V DC supply (5A max) + buck modules to 5V/3.3V",
      "Frame: 3D-printed ring/helix or laser-cut acrylic with node mounts",
      "Measurement: IMU (LSM9DS1 or MPU-9250), USB scope or sound card + mic array, optional load-cell or torsion fiber",
      "Wiring: 22–26 AWG hookup wire, perfboard, headers, heatshrink"
    ],
    "acoustic": [
      "12× piezo discs (e.g., 27 mm) or 12× ultrasonic transducers (40 kHz modules)",
      "12× MOSFET drivers or audio-class op-amp drivers (for phaseable drive)",
      "2× reference microphones (calibration + field mapping)"
    ],
    "em_lowfield": [
      "12× wound air-core coils (e.g., 200 turns, 30 AWG on 15 mm former)",
      "12× half-bridge drivers (gate drivers + MOSFET pairs) or low-voltage Class D",
      "1× 3-axis magnetometer probe (e.g., LIS3MDL) on a traversing arm",
      "Copper ground plane / Faraday shielding box (optional)"
    ]
  },
  "wiring_topology": {
    "clocking": "Single master timer with per-channel phase offsets; avoid per-channel free-running timers.",
    "sync": "All drivers share a hardware sync line; controller sets Δφ via timer compare.",
    "star_ground": "Star ground to reduce crosstalk; separate power and logic returns.",
    "notes": [
      "Route high-current drivers away from sense lines.",
      "In EM mode, twist coil leads; keep probe loops small to avoid pickup artifacts."
    ]
  },
  "control_firmware": {
    "platforms": ["Teensy 4.x", "ESP32"],
    "parameters": {
      "N": 12,
      "f0_hz": 40000,
      "delta_phi_rad": 4.712,
      "log_spacing_alpha": 0.0,
      "sequence": "traveling_wave",
      "amplitude": 0.8,
      "burst_ms": 250,
      "burst_period_ms": 750
    },
    "pseudocode": [
      "init_timers(sample_rate >> f0_hz);",
      "for i in [0..N-1]: phase[i] = i * delta_phi_rad;",
      "if log_spacing_alpha != 0: f[i] = f0_hz * (1 + log_spacing_alpha * ln(i+1)) else f[i] = f0_hz;",
      "loop:",
      "  t = micros();",
      "  for i in [0..N-1]:",
      "    s = amplitude * sin(2π f[i] t + phase[i]);",
      "    write_pwm(i, s);",
      "  if burst_mode: gate ON for burst_ms then OFF;"
    ]
  },
  "calibration": {
    "phase": "Measure two adjacent nodes on scope; adjust timer compare to achieve target Δφ within ±2°.",
    "amplitude": "Equalize node outputs (RMS) within ±0.5 dB.",
    "baseline": "Record IMU/noise with array OFF; then with all nodes IN-PHASE (Δφ=0) to compare against traveling-wave case."
  },
  "experiments": [
    {
      "id": "scan_phase",
      "method": "Sweep Δφ from 0→2π in 5° steps; hold 3 s per step.",
      "metrics": ["net_forward_flow_proxy", "IMU pitch/yaw drift", "mic array front/back SPL"],
      "success": "Distinct maximum in net_forward_flow_proxy near a stable Δφ*; asymmetry between front/back sensors."
    },
    {
      "id": "log_spacing",
      "method": "Enable log_spacing_alpha ∈ {0, 0.02, 0.05, 0.1}; repeat phase scan.",
      "goal": "Check if logarithmic harmonic spacing sharpens/directs the traveling wave."
    },
    {
      "id": "geometry_compare",
      "method": "Run identical scans on 2D ring vs 3D helix.",
      "expectation": "Helix shows stronger axial bias (more net forward proxy)."
    }
  ],
  "measurement_model": {
    "forward_flow_proxy": "Sum_i Im{kappa * A_i * conj(A_{i+1})} (implemented as: multiply neighbor signals with 90° phase shift and integrate)",
    "acoustic_specific": "Front/back SPL differential (dB) and net force on torsion mount (µN via calibrated deflection)",
    "em_specific": "Poynting proxy from near-field E,B sampling (safe low-field approximation) plus directional magnetometer gradient"
  },
  "data_logging": {
    "rate_hz": 200,
    "schema": {
      "t_ms": "uint32",
      "config": { "N": "uint8", "f0_hz": "float", "delta_phi_rad": "float", "alpha": "float", "mode": "enum" },
      "sensors": {
        "imu": { "ax": "float", "ay": "float", "az": "float", "gx": "float", "gy": "float", "gz": "float" },
        "mic": { "front_spl_db": "float", "back_spl_db": "float" },
        "mag": { "bx_uT": "float", "by_uT": "float", "bz_uT": "float" }
      },
      "derived": { "forward_flow_proxy": "float", "spl_diff_db": "float" }
    }
  },
  "safety": [
    "Keep total system under 12V DC; fuse the supply.",
    "Acoustic: avoid continuous >85 dB at ear level; use 40 kHz to stay above audible.",
    "EM: stay low-frequency (<1 MHz), low field strength; avoid large loop areas.",
    "Mount the array on soft isolators when using torsion balance; keep fingers clear of moving suspensions."
  ],
  "interpretation": {
    "what_counts": "A clear Δφ* (phase step) that maximizes a forward-flow proxy and reverses with Δφ→-Δφ indicates the sequenced traveling-wave mechanism is working.",
    "what_doesnt": "Tiny, inconsistent signals that track room drafts or bench vibration; ensure controls: array OFF, all-IN-PHASE, randomized phases."
  },
  "scaling_notes": [
    "Increase N and tighten phase tolerance to sharpen the traveling wave.",
    "3D helix with axial bias better approximates your sensed propulsion geometry.",
    "For plasma versions, replace transducers/coils with inductively coupled plasma cells and a magnetic nozzle—same timing logic, higher energy density."
  ],
  "limitations": [
    "Desktop analogue demonstrates coupling/directionality, not vacuum thrust in new physics.",
    "Acoustic mode’s momentum is in air; EM mode uses near-field proxies; both are instructive analogues."
  ],
  "next_steps": [
    "Add closed-loop optimizer (sweep Δφ and alpha to maximize forward proxy automatically).",
    "3D print interchangeable rings/helices to study geometry effects quickly.",
    "If pursuing plasma: move to RF helicon discharge tube with phased antennas at low power in argon; reuse timing firmware."
  ],
  "license": "CC0-1.0"
}
